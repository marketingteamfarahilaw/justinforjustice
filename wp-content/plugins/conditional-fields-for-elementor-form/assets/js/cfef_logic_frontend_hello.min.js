!function($){"use strict";$(document).ready((function(){function checkFieldLogic(compareFieldValue,conditionOperation,compareValue){conditionOperation=decodeHTMLEntities(conditionOperation),null===compareValue?decodeHTMLEntities(compareValue):decodeHTMLEntities(compareValue).trim();var values,matchFound=(compareFieldValue=null===compareFieldValue?decodeHTMLEntities(compareFieldValue):decodeHTMLEntities(compareFieldValue).trim()).split(",").some((function(value){return value.trim()===compareValue}));switch(conditionOperation){case"==":return matchFound&&""!==compareFieldValue;case"!=":return!matchFound&&""!==compareFieldValue;case">":return parseInt(compareFieldValue)>parseInt(compareValue);case"<":return parseInt(compareFieldValue)<parseInt(compareValue);default:return!1}}function decodeHTMLEntities(text){var textArea=document.createElement("textarea");return textArea.innerHTML=text,textArea.value}function addHiddenClass(form,formId){var logicData=$("#cfef_logic_data_"+formId).html();if(logicData&&"undefined"!==logicData)try{logicData=jQuery.parseJSON(logicData),$.each(logicData,(function(logic_key,logic_value){var field;if((field=$(form).find(".is-field-group-"+logic_key).length?$(form).find(".is-field-group-"+logic_key).closest(".ehp-form__field-group"):getFieldMainDivById(logic_key,form))&&0!==field.length){var displayMode=logic_value.display_mode,fireAction=logic_value.fire_action,conditionPassFail=[];$.each(logic_value.logic_data,(function(conditional_logic_key,conditional_logic_values){if(conditional_logic_values.cfef_logic_field_id){var value_id=getFieldEnteredValue(conditional_logic_values.cfef_logic_field_id,form);conditionPassFail.push(checkFieldLogic(value_id,conditional_logic_values.cfef_logic_field_is,conditional_logic_values.cfef_logic_compare_value))}}));var conditionResult="All"==fireAction?conditionPassFail.every((function(fvalue){return!0===fvalue})):conditionPassFail.some((function(fvalue){return!0===fvalue}));"show"==displayMode?conditionResult||field.addClass("cfef-hidden"):conditionResult&&field.addClass("cfef-hidden")}}))}catch(e){console.error("Error parsing JSON:",e)}}function logicLoad(form,formId){var logicData=$("#cfef_logic_data_"+formId).html();if(logicData&&"undefined"!==logicData)try{logicData=jQuery.parseJSON(logicData),$.each(logicData,(function(logic_key,logic_value){if($(form).find(".is-field-group-"+logic_key).hasClass("is-field-type-html"))field=$(form).find(".is-field-group-"+logic_key).closest(".ehp-form__field-group");else{$(form).find(".is-field-group-"+logic_key).hasClass("is-field-type-step")&&setTimeout(()=>{var field;$(form).find(".is-field-group-"+logic_key).find(".e-form__buttons").find(".is-field-type-next, .ehp-form__submit-group").find(".ehp-form__button").attr("id","form-field-"+logic_key).closest(".is-field-type-next, .ehp-form__submit-group").addClass("cfef-step-field"),performFieldLogic(getFieldMainDivById(logic_key,form),logic_value,form,logic_key,formId)},500);var field=getFieldMainDivById(logic_key,form);performFieldLogic(field,logic_value,form,logic_key,formId)}performFieldLogic(field,logic_value,form,logic_key,formId)}))}catch(e){console.error("Error parsing JSON:",e)}}function performFieldLogic(field,logic_value,form,logic_key,formId){var displayMode=logic_value.display_mode,fireAction=logic_value.fire_action,file_types=logic_value.file_types,conditionPassFail=[];$.each(logic_value.logic_data,(function(conditional_logic_key,conditional_logic_values){var dependent_fi=$(".is-field-group-"+conditional_logic_values.cfef_logic_field_id,form);(dependent_fi.hasClass("is-field-type-ehp-acceptance")||dependent_fi.hasClass("is-field-type-ehp-acceptance"))&&dependent_fi.find(".elementor-field-subgroup .elementor-field-option input").click(()=>{!0===dependent_fi.find(".elementor-field-subgroup .elementor-field-option input")[0].checked?dependent_fi.find(".elementor-field-subgroup .elementor-field-option input").val("off"):dependent_fi.find(".elementor-field-subgroup .elementor-field-option input").val("on")});var hiddenDiv=dependent_fi[0],is_field_hidden=hiddenDiv?hiddenDiv.classList.contains("cfef-hidden"):hiddenDiv;if(conditional_logic_values.cfef_logic_field_id){var value_id=getFieldEnteredValue(conditional_logic_values.cfef_logic_field_id,form),value=!is_field_hidden&&checkFieldLogic(value_id,conditional_logic_values.cfef_logic_field_is,conditional_logic_values.cfef_logic_compare_value);conditionPassFail.push(value)}}));var conditionResult="All"==fireAction?conditionPassFail.every((function(fvalue){return!0===fvalue})):conditionPassFail.some((function(fvalue){return!0===fvalue}));if("show"==displayMode)conditionResult?(field.removeClass("cfef-hidden"),field.hasClass("is-field-required")&&logicFixedRequiredShow(field,file_types)):(field.addClass("cfef-hidden"),field.hasClass("is-field-required")&&logicFixedRequiredHidden(field,logic_key,file_types));else if(conditionResult)if(field.hasClass("cfef-step-field")){var container,nextButtonText=(container=field.closest(".e-form__buttons")).find('button[id^="form-field-"]').text().trim();0===container.prev(".cfef-step-field-text").length&&container.before('<p class="cfef-step-field-text">No input is required on this step. Just click "'+nextButtonText+'" to proceed.</p>')}else field&&field.length>0&&(field.addClass("cfef-hidden"),field.hasClass("is-field-required")&&logicFixedRequiredHidden(field,logic_key,file_types));else{var container;if(field.hasClass("cfef-step-field"))(container=field.closest(".is-type-button")).prev(".cfef-step-field-text").remove();field.hasClass("is-field-required")&&logicFixedRequiredShow(field,file_types,"visible"),field&&field.length>0&&field.removeClass("cfef-hidden")}}function logicFixedRequiredShow(formField,file_types,status){if(formField.hasClass("is-field-type-radio")&&0!==formField.find('input[value="^newOptionTest"]').length){formField.find('input[value="^newOptionTest"]').closest("span.elementor-field-option").remove();let checkedRadio=formField.find('input[checked="checked"]')[0];checkedRadio?$(checkedRadio).prop("checked",!0):$(checkedRadio).prop("checked",!1)}else if(formField.hasClass("is-field-type-ehp-acceptance")){const acceptanceInput=formField.find(".elementor-field-subgroup .elementor-field-option input")[0];formField.hasClass("cfef-hidden")&&acceptanceInput&&!0===acceptanceInput.checked&&"visible"===status&&!jQuery(acceptanceInput).attr("checked")&&(acceptanceInput.checked=!1)}else if(formField.hasClass("is-field-type-checkbox")&&0!==formField.find('input[value="newchkTest"]').length)formField.find('input[value="newchkTest"]').closest("span.elementor-field-option").remove();else if(formField.hasClass("is-field-type-date")&&"1003-01-01"===formField.find("input").val())formField.find("input")[0].value="",flatpickr(formField.find("input")[0],{});else if(formField.hasClass("is-field-type-time")&&"11:59"===formField.find("input").val()){let value=formField.find("input").attr("value")?formField.find("input").attr("value"):"";formField.find("input").val(value)}else if(formField.hasClass("is-field-type-ehp-tel")&&"+1234567890"===formField.find("input").val()){let value=formField.find("input").attr("value")?formField.find("input").attr("value"):"";formField.find("input").val(value)}else if(formField.hasClass("is-field-type-url")&&"https://testing.com"===formField.find("input").val()){let value=formField.find("input").attr("value")?formField.find("input").attr("value"):"";formField.find("input").val(value)}else if(formField.hasClass("is-field-type-email")&&"cool_plugins@abc.com"===formField.find("input").val()){let value=formField.find("input").attr("value")?formField.find("input").attr("value"):"";formField.find("input").val(value)}else if(formField.hasClass("is-field-type-number")&&"000"===formField.find("input").val()){let value=formField.find("input").attr("value")?formField.find("input").attr("value"):"";formField.find("input").val(value)}else if(formField.hasClass("is-field-type-upload")){const firstType=file_types.split(",")[0],inputField=formField.find("input"),fileName=`${my_script_vars.pluginConstant}assets/images/placeholder.${firstType}`,inputValue=inputField.val();-1!==inputValue.indexOf(fileName)&&inputField.val("")}else if(formField.hasClass("is-field-type-textarea")&&"cool_plugins"===formField.find("textarea").val()){let defaultVal=formField.find("textarea")[0].innerHTML,value=formField.find("textarea")[0].innerHTML?formField.find("textarea")[0].innerHTML:"";formField.find("textarea").val(value)}else if(formField.hasClass("is-field-type-select")){var selectBox=formField.find("select");if(selectBox.length>0&&selectBox.find("option").length>0){var selectedValue=selectBox.val();if("premium1@"==selectedValue||"premium1@"==selectedValue[0]){selectBox.find("option[value='premium1@']").remove();const selectedOption=selectBox.find("option[selected='selected']")[0];let value=$(selectedOption).attr("value")?$(selectedOption).attr("value"):selectBox.find("option:first").val();selectBox.val(value)}}}else{var FieldValues;if("cool23plugins"==formField.find("input").val()){let value=formField.find("input").attr("value")?formField.find("input").attr("value"):"";formField.find("input").val(value)}}}function logicFixedRequiredHidden(formField,fieldKey,file_types){if(formField.hasClass("is-field-type-radio")){var groupclass;const field2=$(groupclass=".is-field-group-"+fieldKey);if(field2.length>0&&0===field2.find('input[value="^newOptionTest"]').length){const newOption=$(`\n                        <span class="elementor-field-option">\n                            <input type="radio" value="^newOptionTest" id="form-field-newOption" name="form_fields[${fieldKey}]" required="required" aria-required="true" checked="checked">\n                        </span>\n                    `);field2.find(".elementor-field-subgroup").append(newOption)}}else if(formField.hasClass("is-field-type-ehp-acceptance")){const acceptanceInput=formField.find(".elementor-field-subgroup .elementor-field-option input")[0];acceptanceInput&&(acceptanceInput.checked=!0)}else if(formField.hasClass("is-field-type-checkbox")){var groupclass;const field2=$(groupclass=".is-field-group-"+fieldKey);if(field2.length>0&&0===field2.find('input[value="newchkTest"]').length){const newOption=$(`\n                        <span class="elementor-field-option"><input type="checkbox" value="newchkTest" id="form-field-newchkTest" name="form_fields[${fieldKey}][]" checked="checked"> </span>\n                    `);field2.find(".elementor-field-subgroup").append(newOption)}}else if(formField.hasClass("is-field-type-date")){let value;if(""===formField.find("input").val()){if(formField.find("input.flatpickr-mobile[type='date']")){let inputField;formField.find("input.flatpickr-mobile").attr("type","text")}formField.find("input").val("1003-01-01")}}else if(formField.hasClass("is-field-type-time")){let value;""===formField.find("input").val()&&formField.find("input").val("11:59")}else if(formField.hasClass("is-field-type-ehp-tel")){let value;""===formField.find("input").val()&&(formField.find("input").removeAttr("pattern"),formField.find("input").val("+1234567890"))}else if(formField.hasClass("is-field-type-url")){let value;""===formField.find("input").val()&&formField.find("input").val("https://testing.com")}else if(formField.hasClass("is-field-type-email")){let value;""===formField.find("input").val()&&formField.find("input").val("cool_plugins@abc.com")}else if(formField.hasClass("is-field-type-upload")){const firstType=file_types.split(",")[0],fileName=`${my_script_vars.pluginConstant}assets/images/placeholder.${firstType}`,defaultImage=new File([],fileName,{type:"image/png"}),fileInput=formField.find('input[type="file"]'),container=new DataTransfer;container.items.add(defaultImage),fileInput[0].files=container.files}else if(formField.hasClass("is-field-type-number")){var FieldValues;if(""===formField.find("input").val()){var field_obj=formField.find("input"),max_v=parseInt(field_obj.attr("max")),min_v=parseInt(field_obj.attr("min"));isNaN(min_v)?isNaN(max_v)?formField.find("input").val("000"):formField.find("input").val(max_v-1):formField.find("input").val(min_v+1)}}else if(formField.hasClass("is-field-type-textarea")){let value;""===formField.find("textarea").val()&&formField.find("textarea").val("cool_plugins")}else if(formField.hasClass("is-field-type-select")){var selectBox=formField.find("select"),optionText="Premium1@",optionValue="premium1@",optionToRemove;if(selectBox.length>0&&selectBox.find("option").length>0)selectBox.find("option[value='premium']").length<=0&&selectBox.append('<option value="premium1@">Premium1@</option>'),selectBox.val("premium1@")}else if(formField.hasClass("is-field-type-text")){let value;""===formField.find("input").val()&&formField.find("input").val("cool23plugins")}else{const inputField=formField.find("input");if(inputField.length>0){const inputId=inputField[0].id;jQuery(`#${inputId}`)[0].setAttribute("value","cool23plugins")}}}function getFieldEnteredValue(id="",form="body"){var inputValue="",fieldGroup=$(".is-field-group-"+id,form);if(fieldGroup.hasClass("is-field-type-radio"))inputValue=fieldGroup.find("input:checked").val();else if(fieldGroup.hasClass("is-field-type-checkbox")){var multiValue=[];fieldGroup.find("input[type='checkbox']:checked").each((function(){multiValue.push($(this).val())})),inputValue=multiValue.length?multiValue.join(", "):id}else fieldGroup.hasClass("is-field-type-select")?(inputValue=fieldGroup.find("select",form).val(),fieldGroup.find("select")[0].multiple&&(inputValue=inputValue.join(", "))):inputValue=fieldGroup.hasClass("is-field-type-textarea")?fieldGroup.find("textarea",form).val():fieldGroup.find("input",form).val();return void 0===inputValue?"":inputValue}function getFieldMainDivById(id="",form=null){return form?$("#form-field-"+id,form).length>0?$("#form-field-"+id,form).closest(".ehp-form__field-group"):$("#form-field-"+id+"-0",form).closest(".ehp-form__field-group"):null}$(document).on("elementor/popup/show",(function(){$(".ehp-form").each((function(){var form=$(this).closest(".elementor-widget-ehp-form"),formId=form.closest(".elementor-element").attr("data-id");addHiddenClass(form,formId),logicLoad(form,formId)}))})),$(document).ready((function(){$(".ehp-form").each((function(){var form=$(this).closest(".elementor-widget-ehp-form"),formId=form.closest(".elementor-element").attr("data-id");addHiddenClass(form,formId),logicLoad(form,formId)}))})),window.addEventListener("elementor/frontend/init",(function(){$(".ehp-form").each((function(){var form=$(this).closest(".elementor-widget-ehp-form"),formId=form.closest(".elementor-element").attr("data-id");addHiddenClass(form,formId),logicLoad(form,formId)}))})),jQuery(document).on("submit_success",(function(e,data){setTimeout(()=>{var form=jQuery(e.target).closest(".elementor-widget-ehp-form"),formId=form.closest(".elementor-element").attr("data-id");logicLoad(form,formId)},200)})),$("body").on("input change",".elementor-widget-ehp-form input, .elementor-widget-ehp-form select, .elementor-widget-ehp-form textarea",(function(e){var form=$(this).closest(".elementor-widget-ehp-form"),formId=form.closest(".elementor-element").attr("data-id");logicLoad(form,formId)}))}))}(jQuery);