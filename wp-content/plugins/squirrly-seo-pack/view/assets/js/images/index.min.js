(()=>{var e={968:(e,t,i)=>{wp.media.view.SQSearch=i(354);var a=wp.media.View.extend({tagName:"div",className:"sq-attachments-search-wrap",initialize:function(){this.value=this.options.value},render:function(){var e=new wp.media.view.SQSearch({controller:this.controller,model:this.model});return this.views.add(e),this}});e.exports=a},574:(e,t,i)=>{var a,s=wp.media.view.Frame;wp.media.view.SQContent=i(968),a=s.extend({tagName:"div",className:"attachments-browser sq-attachments-browser",images:[],object:[],initialize:function(){_.defaults(this.options,{filters:!1,search:!0,date:!0,display:!1,sidebar:!0,AttachmentView:wp.media.view.Attachment.Library}),this.createContent()},createContent:function(){this.attachmentsHeading=new wp.media.view.Heading({text:sqMediaLibrary.title,level:"h3",className:"sq-media-views-heading"}),this.views.add(new wp.media.view.SQContent),this.$el.find(".sq-image__search").wrapAll('<div class="sq-image__search-wrap">').parent().html(),this.$el.find(".sq-image__search-wrap").append('<span class="sq-icon-search search-icon"></span>')},photoUploadComplete:function(e){e&&e.attachmentData&&(this.model.frame.content.mode("browse"),this.model.get("selection").add(e.attachmentData),this.model.frame.trigger("library:selection:add"),this.model.get("selection"),jQuery(".media-frame .media-button-select").click())}}),e.exports=a},354:e=>{$=jQuery;var t=wp.Backbone.View.extend({tagName:"input",className:"sq-image__search",id:"sq-image-search-input",searching:!1,images:[],attributes:{placeholder:sqMediaLibrary.search_placeholder,type:"search","aria-describedby":"live-search-desc"},events:{search:"search",keyup:"search",blur:"pushState",infinite:"infinite"},initialize:function(e){this.parent=e.parent},infinite:function(e){this.doSearch(e)},search:function(e){"keyup"===e.type&&27===e.which&&(e.target.value=""),""==e.target.value?this.$el.removeClass("has-input"):this.$el.addClass("has-input"),$scope.find(".sq-image__skeleton").animate({scrollTop:0},0),$("body").data("page",1),SQImageCommon.infiniteLoad=!1;let t=this;setTimeout(function(){t.doSearch(e)},1500)},doSearch:function(e){if(this.searching)return;let t=this;t.searching=!0,SQImageCommon.config.q=e.target.value,$.ajax({url:sqQuery.ajaxurl,type:"POST",data:{action:"sqp_medialibrary_search",params:SQImageCommon.config,sq_nonce:sqQuery.nonce},beforeSend:function(){console.groupCollapsed("Requesting Pixabay API")}}).fail(function(e){console.log(e),console.groupEnd()}).done(function(e){console.log("Response:"),console.log(e),console.groupEnd(),e.success&&(t.searching=!1,this.images=e.data.hits,wp.media.view.SQAttachmentsBrowser.images=this.images),$(document).trigger("sq-image__refresh")})},pushState:function(e){$(document).trigger("sq-image__refresh")}});e.exports=t}},t={};function i(a){var s=t[a];if(void 0!==s)return s.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,i),r.exports}!function(e){var t=function(){if(null!=wp&&wp.media){var e=jQuery,t=wp.media.view.MediaFrame.Post,a=wp.media.view.MediaFrame.Select;wp.media.view.SQAttachmentsBrowser=i(574);const s={browseRouter(e){a.prototype.browseRouter.apply(this,arguments),e.set({sqimages:{text:sqMediaLibrary.title,priority:70}})},bindHandlers(){sqMediaLibrary.is_elementor_editor?t.prototype.bindHandlers.apply(this,arguments):a.prototype.bindHandlers.apply(this,arguments),this.on("content:create:sqimages",this.sqimages,this)},sqimages(t){const i=this.state();let a=new wp.media.view.SQAttachmentsBrowser({controller:this,model:i,AttachmentView:i.get("AttachmentView")});t.view=a,wp.media.view.SQAttachmentsBrowser.object=a,setTimeout(function(){e(document).trigger("sq-image__set-scope")},100)}};sqMediaLibrary.is_astra_active||(sqMediaLibrary.is_elementor_editor?wp.media.view.MediaFrame.Post=t.extend(s):wp.media.view.MediaFrame.Select=a.extend(s))}};e(function(){t(),sqMediaLibrary.is_bb_active&&sqMediaLibrary.is_bb_editor&&void 0!==FLBuilder&&null!==FLBuilder._singlePhotoSelector&&FLBuilder._singlePhotoSelector.on("open",function(e){t()})})}(jQuery)})();